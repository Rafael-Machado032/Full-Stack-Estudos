<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movimentar</title>
    <script>
        let x = 0; // Posição inicial do retângulo
        let y = 0; // Posição inicial do retângulo
        let v = 100; // Velocidade de movimento
        let d = v; // Incremento de movimento
        let anima; // Variável para armazenar o ID da animação
        
        function desenhar() {

            const canvas = document.getElementById('desenho1');
            const ctx = canvas.getContext('2d');
            //getContext('2d') retorna um contexto de renderização bidimensional para o elemento canvas.

            ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpa o canvas
            ctx.fillStyle = 'orange'; // Define a cor de preenchimento como verde

            ctx.lineWidth = 5; // Define a largura da linha
            ctx.strokeStyle = 'black'; // Define a cor da linha como preta

            ctx.fillRect(x, y, 100, 50); // Desenha um retângulo preenchido em (x, y) com largura 100 e altura 50
            ctx.strokeRect(x, y, 100, 50); // Desenha a borda do retângulo

            x += d; // Move o retângulo 2 pixels para a direita
            console.log("x: " + x + " Largura: " + canvas.width);
            if (x > canvas.width) {
                console.log("x: " + x + " Largura: " + canvas.width);
                d=-v; // Inverte a direção do movimento
                //x = -canvas.width; // Reseta a posição do retângulo quando ele sai da tela
                console.log("x: " + x + " Largura: " + canvas.width);
                y = Math.random() * (canvas.height - 5); // Move o retângulo para uma nova posição vertical aleatória
            }else if (x < -100) {
                d=v; // Inverte a direção do movimento
                //x = -canvas.width; // Reseta a posição do retângulo quando ele sai da tela
                console.log("x: " + x + " Largura: " + canvas.width);
                y = Math.random() * (canvas.height - 5); // Move o retângulo para uma nova posição vertical aleatória
            }
            anima = requestAnimationFrame(desenhar); // Solicita que o navegador chame a função desenhar() antes do próximo repaint
        }
    </script>

</head>

<body onload="desenhar()">

    <canvas id="desenho1" width="750" height="600" style="border: 1px solid black; background-color: lightgray;">
        <h3>Seu navegador não suporta o elemento <code>canvas</code>.</h3>
        <!--Caso o canvas não seja suportado, você pode fornecer uma alternativa aqui-->
    </canvas>



</body>

</html>