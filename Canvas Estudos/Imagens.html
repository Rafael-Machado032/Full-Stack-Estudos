<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas</title>
    <style>
        #caixa {
            border: 1px solid black;
            background-color: lightgray;
        }
    </style>
</head>

<body>

    <div>
        <img src="img/quadrados.jpg" alt="Imagem de quadrados" width="400" height="200">
    </div>
    <canvas id="caixa" width="740" height="590">
        <h3>Seu navegador não suporta o elemento <code>canvas</code>.</h3>
        <!--Caso o canvas não seja suportado, você pode fornecer uma alternativa aqui-->
    </canvas>

    <script>
        const canvas = document.getElementById('caixa');
        const ctx = canvas.getContext('2d');
        let anima;

        let nave = new Image();
        nave.src = 'img/nave.png';

        let planeta = new Image();
        planeta.src = 'img/planeta.png';

        let quadrado = new Image();
        quadrado.src = 'img/quadrados.jpg';

        function desenhar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpa o canvas

            

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(planeta, canvas.width-300, canvas.height-300, 300, 300);
            // drawImage(imagem, x, y, largura, altura)
            ctx.closePath() //Fim do Caminho

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(quadrado, 297, 55, 68, 68, 300, 300, 100, 100);
            // drawImage(imagem, sy, sx, sw, sh, dx, dy, dw, dh)
            // sy, sx, sw, sh -> recorte da imagem
            // dx, dy, dw, dh -> posição e tamanho no canvas
            ctx.closePath() //Fim do Caminho

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(quadrado, 210, 55, 68, 68, 200, 200, 100, 100);
            // drawImage(imagem, sy, sx, sw, sh, dx, dy, dw, dh)
            // sy, sx, sw, sh -> recorte da imagem
            // dx, dy, dw, dh -> posição e tamanho no canvas
            ctx.closePath() //Fim do Caminho

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(quadrado, 124, 55, 68, 68, 100, 100, 100, 100);
            // drawImage(imagem, sy, sx, sw, sh, dx, dy, dw, dh)
            // sy, sx, sw, sh -> recorte da imagem
            // dx, dy, dw, dh -> posição e tamanho no canvas
            ctx.closePath() //Fim do Caminho

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(quadrado, 37, 55, 68, 68, 0, 0, 100, 100);
            // drawImage(imagem, sy, sx, sw, sh, dx, dy, dw, dh)
            // sy, sx, sw, sh -> recorte da imagem
            // dx, dy, dw, dh -> posição e tamanho no canvas
            ctx.closePath() //Fim do Caminho

            ctx.beginPath();// Inicia um novo caminho
            ctx.drawImage(nave, canvas.width / 2 - 100, canvas.height / 2 - 100, 200, 200);
            // drawImage(imagem, x, y, largura, altura)
            ctx.closePath() //Fim do Caminho

            anima = requestAnimationFrame(desenhar);
        }

        // inicia quando o DOM estiver pronto
        window.addEventListener('DOMContentLoaded', desenhar);
    </script>


</body>

</html>